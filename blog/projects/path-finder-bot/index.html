<!doctype html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8" lang="en"><![endif]-->
<!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9" lang="en"><![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"><!--<![endif]-->
<head>
<meta charset="utf-8">
<title>Path Finder Bot &#8211; Electronics and Robotics Club, IIT Bombay</title>
<meta name="description" content="A bot which finds its way on its own">
<meta name="keywords" content="Algorithm, Deep Learning">


<!-- Twitter Cards -->
<meta name="twitter:title" content="Path Finder Bot">
<meta name="twitter:description" content="A bot which finds its way on its own">



<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://grubdragon.github.io/erciitb/images/sitelogo.png">

<!-- Open Graph -->
<meta property="og:locale" content="en_US">
<meta property="og:type" content="article">
<meta property="og:title" content="Path Finder Bot">
<meta property="og:description" content="A bot which finds its way on its own">
<meta property="og:url" content="https://grubdragon.github.io/erciitb/blog/projects/path-finder-bot/">
<meta property="og:site_name" content="Electronics and Robotics Club, IIT Bombay">





<link rel="canonical" href="https://grubdragon.github.io/erciitb/blog/projects/path-finder-bot/">
<link href="https://grubdragon.github.io/erciitb/feed.xml" type="application/atom+xml" rel="alternate" title="Electronics and Robotics Club, IIT Bombay Feed">
<link href="https://fonts.googleapis.com/css?family=PT+Serif" rel="stylesheet"> 
<link href="https://fonts.googleapis.com/css?family=EB+Garamond" rel="stylesheet"> 

<!-- https://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- For all browsers -->
<link rel="stylesheet" href="https://grubdragon.github.io/erciitb/assets/css/main.css">
<link rel="stylesheet" href="https://grubdragon.github.io/erciitb/assets/css/team.css"> 
<!-- Webfonts -->
<script src="https://use.edgefonts.net/source-sans-pro:n2,i2,n3,i3,n4,i4,n6,i6,n7,i7,n9,i9;source-code-pro:n4,n7;volkhov.js"></script>

<meta http-equiv="cleartype" content="on">

<!-- HTML5 Shiv and Media Query Support -->
<!--[if lt IE 9]>
  <script src="https://grubdragon.github.io/erciitb/assets/js/vendor/html5shiv.min.js"></script>
  <script src="https://grubdragon.github.io/erciitb/assets/js/vendor/respond.min.js"></script>
<![endif]-->

<!-- jQuery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>

<!-- Modernizr -->
<script src="https://grubdragon.github.io/erciitb/assets/js/vendor/modernizr-2.7.1.custom.min.js"></script>


<!-- MathJax -->
<script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>


<!-- Icons -->
<!-- 16x16 -->
<link rel="shortcut icon" href="https://grubdragon.github.io/erciitb/favicon.ico">
<!-- 32x32 -->
<link rel="shortcut icon" href="https://grubdragon.github.io/erciitb/favicon.png">
<!-- 57x57 (precomposed) for iPhone 3GS, pre-2011 iPod Touch and older Android devices -->
<link rel="apple-touch-icon-precomposed" href="https://grubdragon.github.io/erciitb/images/apple-touch-icon-precomposed.png">
<!-- 72x72 (precomposed) for 1st generation iPad, iPad 2 and iPad mini -->
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="https://grubdragon.github.io/erciitb/images/apple-touch-icon-72x72-precomposed.png">
<!-- 114x114 (precomposed) for iPhone 4, 4S, 5 and post-2011 iPod Touch -->
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="https://grubdragon.github.io/erciitb/images/apple-touch-icon-114x114-precomposed.png">
<!-- 144x144 (precomposed) for iPad 3rd and 4th generation -->
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://grubdragon.github.io/erciitb/images/apple-touch-icon-144x144-precomposed.png">

<script src="https://grubdragon.github.io/erciitb/assets/js/scrolltop.js"></script>
<link rel="stylesheet" href="https://grubdragon.github.io/erciitb/assets/css/scrolltop.css">
</head>

<body id="post">
<!-- Return to Top -->
<div onClick="scrollback()" id="return-to-top"><i class="fa fa-chevron-up"></i></div>

<div class="navigation-wrapper">
	<nav role="navigation" id="site-nav" class="animated drop">
	    <ul>
      
		    
		    <li><a href="https://grubdragon.github.io/erciitb/" >Home</a></li>
		  
		    
		    <li><a href="https://grubdragon.github.io/erciitb/about/" >About</a></li>
		  
		    
		    <li><a href="https://grubdragon.github.io/erciitb/tutorials/" >Tutorials</a></li>
		  
		    
		    <li><a href="https://grubdragon.github.io/erciitb/blog/" >Blog</a></li>
		  
		    
		    <li><a href="https://grubdragon.github.io/erciitb/search/" >Search</a></li>
		  
		    
		    <li><a href="https://grubdragon.github.io/erciitb/team/" >The Team</a></li>
		  
	    </ul>
	</nav>
</div><!-- /.navigation-wrapper -->

<!--[if lt IE 9]><div class="upgrade"><strong><a href="http://whatbrowser.org/">Your browser is quite old!</strong> Why not upgrade to a different browser to better enjoy this site?</a></div><![endif]-->

<header class="masthead">
	<div class="wrap">
      
  		<a href="https://grubdragon.github.io/erciitb/" class="site-logo" rel="home" title="Electronics and Robotics Club, IIT Bombay"><img src="https://grubdragon.github.io/erciitb/images/sitelogo.png" width="200" height="200" alt="Electronics and Robotics Club, IIT Bombay logo" class="animated flipInX"></a>
      
      <h1 class="site-title animated pulse"><a href="https://grubdragon.github.io/erciitb/">Electronics and Robotics Club, IIT Bombay</a></h1>
		<h2 class="site-description animated pulse" itemprop="description">A place for tinkerers and the sort!</h2>
	</div>
</header><!-- /.masthead -->

<div class="js-menu-screen menu-screen"></div>

<div id="main" role="main">
  <article class="hentry">
    <div class="header-img-overflow"><img src="https://grubdragon.github.io/erciitb/assets/blog/path-finder-bot/cover.jpg" class="entry-feature-image" alt="Path Finder Bot" ></div>
    <div class="entry-wrapper zoomIn">
      <header class="entry-header center">
        
          <h1 class="entry-title">Path Finder Bot</h1>
        
      </header>
      <footer class="entry-meta">
        
        <!--
        
        -->
        <span class="author vcard">By <span class="fn">Thariq Shanavas</span></span>
        <span class="entry-date date published"><time datetime="2016-05-30T00:00:00+00:00"><i class="fa fa-calendar-o"></i> May 30, 2016</time></span>
        
        
        
	<ul class="entry-tags">
          Tags: <li><a href="https://grubdragon.github.io/erciitb/tags/#Algorithm" title="Pages tagged Algorithm">Algorithm</a></li><li><a href="https://grubdragon.github.io/erciitb/tags/#Deep Learning" title="Pages tagged Deep Learning">Deep Learning</a></li>
        </ul>
      </footer> 
      <div class="entry-content">
        <p>Okay, so my roomie cum best friend Mohit Kherwa wanted to build a bot which 
would crash land into some unknown location on Mars but still find its way to
the human base station. Since we were not getting a bot to Mars anytime soon, 
I suggested we build one that finds its way from our room to the next. And so 
we did. With help from wingies Shikhar Kothari and Harsh Meena.</p>

<h4 id="what-went-inside">What went inside</h4>

<p>We fixed IR sensors on the front and to the left. To measure the speed or the 
distance covered, we made white patches on the inside surface of the black wheel. 
Around 10 of them. There was an IR sensor pointed at the wheel. Essentially, we 
were receiving a square wave as input from the sensor. Measure the frequency, and 
voila, you have the bot’s speed! (We learnt later that this is the principle behind 
a tachometer.) The bot had three wheels, one freely rotating in the front(castor 
wheel), and two motors (standard 2W) with the rear two, for differential mechanism. 
And an Arduino, motor driver shield and a 12V battery. Well, so much for the hardware.</p>

<p><img src="https://grubdragon.github.io/erciitb/assets/blog/path-finder-bot/image00.jpg" alt="bot image 1" />
<img src="https://grubdragon.github.io/erciitb/assets/blog/path-finder-bot/image01.jpg" alt="bot image 2" />
<img src="https://grubdragon.github.io/erciitb/assets/blog/path-finder-bot/image02.jpg" alt="bot image 3" /></p>

<h4 id="the-algorithm">The Algorithm</h4>

<p>The bot’s initial position was set to origin and thus it marked the coordinate system. 
Y axis was in the forward direction, and x to the right. We planned to put up an LCD 
display and buttons on the bot to enter the final coordinates. The coordinates of the 
destination was hard coded into the bot during testing. They were stored in variables 
x and y.</p>

<p>Here’s the logic which we adopted in our arduino code:</p>

<ol>
  <li>
    <p>If y&lt;0
Turn 180 degree. Change the sign of x and y. (This step is to make sure that the 
final position is always ahead of the bot.)
Else
Go to step 2.</p>
  </li>
  <li>Move forward and decrease y accordingly until (y is decreased because the destination 
is getting closer)
    <ol>
      <li>y=0;
<br />if x=0 as well,
Terminate the program. The bot has reached its destination.
Else go to step 5.</li>
      <li>There is some obstacle ahead. (i.e, Front IR sensor goes off)
<br />Go to Step 3.</li>
    </ol>
  </li>
  <li>
    <p>Turn Right. Move forward and decrease x accordingly as long as the left IR sensor gives 
a high. Go to Step 4.</p>
  </li>
  <li>
    <p>Turn Left. Go to Step 2.</p>
  </li>
  <li>If x&lt;0, turn left, set y= -x and x=0. 
<br />Go to step 2. 
<br />(The bot just rotated the coordinate system by 90 degree and started all over again)
<br />If x&gt;0, turn right, set y= x and x=0. 
<br />Go to step 2.</li>
</ol>

<p>You can find the code <a href="https://github.com/thariq-shanavas/Path-Finder-Bot">here</a>.</p>

<h3 id="sounds-straightforward-but">Sounds straightforward, but…</h3>

<p>The first real difficulty was the wheels slipping on the ground. This was sorted out by using rubberised wheels and bringing down the RPM of the motors by lowering the duty cycle of the PWM output to the motors.</p>

<p>The second more serious difficulty was that due to manufacturing tolerances, the motors were not identical. Even when the same PWM signal was given to both motors, one tended to go slightly faster and this sometimes led to large cumulative error. We only had an IR sensor on one wheel, so only that wheel’s angular velocity could be measured.</p>

<p>We tried to correct this error calibrating the duty cycle of the PWM signal to the motors but unfortunately this calibration was dependent on battery voltage- when the battery voltage dropped by half a volt, the bot had to be recalibrated. Then we tried adding an IR sensor to the other wheel and add a feedback system for self-calibration, but the Arduino was not fast enough to collect that much data and process it- angular frequencies of the wheels were wrongly calculated and the bot went haywire. The proposed workaround was to use stepper motors, but then we never got around to implementing it- this was done in the few days following the endsems and all of us had to go home by that time.</p>

<p>The error was never great enough to defeat the purpose of the bot - the bot usually reached its target with a tolerance of a few centimeters. The error was noticeable only when the battery was heavily drained.</p>

        
      </div><!-- /.entry-content -->
    </div><!-- /.entry-wrapper -->
    <nav class="pagination" role="navigation">
      
        <a href="https://grubdragon.github.io/erciitb/blog/informative/fundamentals-of-a-slam-algorithm/" class="btn" title="Fundamentals of a SLAM Algorithm">Previous</a>
      
      
        <a href="https://grubdragon.github.io/erciitb/blog/deep-learning/" class="btn" title="Deep Learning">Next</a>
      
    </nav><!-- /.pagination -->
  </article>
</div><!-- /#main -->

<div class="footer-wrapper">
  <footer role="contentinfo" class="entry-wrapper">
    

<span>&copy; 2017 Electronics and Robotics Club, IIT Bombay.<!-- Powered by <a href="http://jekyllrb.com" rel="nofollow">Jekyll</a> using the <a href="https://mademistakes.com/work/so-simple-jekyll-theme/" rel="nofollow">So Simple Theme</a>.--></span>
<div class="social-icons">
	
	<a href="https://facebook.com/erciitb" title="Electronics and Robotics Club, IIT Bombay on Facebook" target="_blank"><i class="fa fa-facebook-square fa-2x"></i></a>
	
	
	
	
	
	<a href="https://github.com/erciitb" title="Electronics and Robotics Club, IIT Bombay on Github" target="_blank"><i class="fa fa-github-square fa-2x"></i></a>
	
  
	
  <a href="https://grubdragon.github.io/erciitb/feed.xml" title="Atom/RSS feed"><i class="fa fa-rss-square fa-2x"></i></a>
</div><!-- /.social-icons -->

  </footer>
</div><!-- /.footer-wrapper -->

<script type="text/javascript">
  var BASE_URL = 'https://grubdragon.github.io/erciitb';
</script>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="https://grubdragon.github.io/erciitb/assets/js/vendor/jquery-1.9.1.min.js"><\/script>')</script>
<script src="https://grubdragon.github.io/erciitb/assets/js/scripts.min.js"></script>




</body>
</html>