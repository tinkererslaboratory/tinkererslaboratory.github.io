<!doctype html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8" lang="en"><![endif]-->
<!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9" lang="en"><![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"><!--<![endif]-->
<head>
<meta charset="utf-8">
<title>Arduino Programming &#8211; Electronics and Robotics Club, IIT Bombay</title>
<meta name="description" content="Arduino is an open-source electronics platform with which you can build projects like self-balancing bot, CNC machine or Home Automator. The possibilities are endless. Let’s get started with the basics of Arduino.">
<meta name="keywords" content="">


<!-- Twitter Cards -->
<meta name="twitter:title" content="Arduino Programming">
<meta name="twitter:description" content="Arduino is an open-source electronics platform with which you can build projects like self-balancing bot, CNC machine or Home Automator. The possibilities are endless. Let’s get started with the basics of Arduino.">



<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://grubdragon.github.io/erciitb/images/sitelogo.png">

<!-- Open Graph -->
<meta property="og:locale" content="en_US">
<meta property="og:type" content="article">
<meta property="og:title" content="Arduino Programming">
<meta property="og:description" content="Arduino is an open-source electronics platform with which you can build projects like self-balancing bot, CNC machine or Home Automator. The possibilities are endless. Let’s get started with the basics of Arduino.">
<meta property="og:url" content="https://grubdragon.github.io/erciitb/tutorials/arduino/">
<meta property="og:site_name" content="Electronics and Robotics Club, IIT Bombay">





<link rel="canonical" href="https://grubdragon.github.io/erciitb/tutorials/arduino/">
<link href="https://grubdragon.github.io/erciitb/feed.xml" type="application/atom+xml" rel="alternate" title="Electronics and Robotics Club, IIT Bombay Feed">
<link href="https://fonts.googleapis.com/css?family=PT+Serif" rel="stylesheet"> 
<link href="https://fonts.googleapis.com/css?family=EB+Garamond" rel="stylesheet"> 

<!-- https://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- For all browsers -->
<link rel="stylesheet" href="https://grubdragon.github.io/erciitb/assets/css/main.css">
<link rel="stylesheet" href="https://grubdragon.github.io/erciitb/assets/css/team.css"> 
<!-- Webfonts -->
<script src="https://use.edgefonts.net/source-sans-pro:n2,i2,n3,i3,n4,i4,n6,i6,n7,i7,n9,i9;source-code-pro:n4,n7;volkhov.js"></script>

<meta http-equiv="cleartype" content="on">

<!-- HTML5 Shiv and Media Query Support -->
<!--[if lt IE 9]>
  <script src="https://grubdragon.github.io/erciitb/assets/js/vendor/html5shiv.min.js"></script>
  <script src="https://grubdragon.github.io/erciitb/assets/js/vendor/respond.min.js"></script>
<![endif]-->

<!-- jQuery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>

<!-- Modernizr -->
<script src="https://grubdragon.github.io/erciitb/assets/js/vendor/modernizr-2.7.1.custom.min.js"></script>


<!-- MathJax -->
<script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>


<!-- Icons -->
<!-- 16x16 -->
<link rel="shortcut icon" href="https://grubdragon.github.io/erciitb/favicon.ico">
<!-- 32x32 -->
<link rel="shortcut icon" href="https://grubdragon.github.io/erciitb/favicon.png">
<!-- 57x57 (precomposed) for iPhone 3GS, pre-2011 iPod Touch and older Android devices -->
<link rel="apple-touch-icon-precomposed" href="https://grubdragon.github.io/erciitb/images/apple-touch-icon-precomposed.png">
<!-- 72x72 (precomposed) for 1st generation iPad, iPad 2 and iPad mini -->
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="https://grubdragon.github.io/erciitb/images/apple-touch-icon-72x72-precomposed.png">
<!-- 114x114 (precomposed) for iPhone 4, 4S, 5 and post-2011 iPod Touch -->
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="https://grubdragon.github.io/erciitb/images/apple-touch-icon-114x114-precomposed.png">
<!-- 144x144 (precomposed) for iPad 3rd and 4th generation -->
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://grubdragon.github.io/erciitb/images/apple-touch-icon-144x144-precomposed.png">

<script src="https://grubdragon.github.io/erciitb/assets/js/scrolltop.js"></script>
<link rel="stylesheet" href="https://grubdragon.github.io/erciitb/assets/css/scrolltop.css">
</head>

<body id="post">
<!-- Return to Top -->
<div onClick="scrollback()" id="return-to-top"><i class="fa fa-chevron-up"></i></div>

<div class="navigation-wrapper">
	<nav role="navigation" id="site-nav" class="animated drop">
	    <ul>
      
		    
		    <li><a href="https://grubdragon.github.io/erciitb/" >Home</a></li>
		  
		    
		    <li><a href="https://grubdragon.github.io/erciitb/about/" >About</a></li>
		  
		    
		    <li><a href="https://grubdragon.github.io/erciitb/tutorials/" >Tutorials</a></li>
		  
		    
		    <li><a href="https://grubdragon.github.io/erciitb/blog/" >Blog</a></li>
		  
		    
		    <li><a href="https://grubdragon.github.io/erciitb/search/" >Search</a></li>
		  
		    
		    <li><a href="https://grubdragon.github.io/erciitb/team/" >The Team</a></li>
		  
	    </ul>
	</nav>
</div><!-- /.navigation-wrapper -->

<!--[if lt IE 9]><div class="upgrade"><strong><a href="http://whatbrowser.org/">Your browser is quite old!</strong> Why not upgrade to a different browser to better enjoy this site?</a></div><![endif]-->

<header class="masthead">
	<div class="wrap">
      
  		<a href="https://grubdragon.github.io/erciitb/" class="site-logo" rel="home" title="Electronics and Robotics Club, IIT Bombay"><img src="https://grubdragon.github.io/erciitb/images/sitelogo.png" width="200" height="200" alt="Electronics and Robotics Club, IIT Bombay logo" class="animated flipInX"></a>
      
      <h1 class="site-title animated pulse"><a href="https://grubdragon.github.io/erciitb/">Electronics and Robotics Club, IIT Bombay</a></h1>
		<h2 class="site-description animated pulse" itemprop="description">A place for tinkerers and the sort!</h2>
	</div>
</header><!-- /.masthead -->

<div class="js-menu-screen menu-screen"></div>

<div id="main" role="main">
  <article class="hentry">
    <div class="header-img-overflow"><img src="https://grubdragon.github.io/erciitb/assets/tutorials/arduino/cover.jpg" class="entry-feature-image" alt="Arduino Programming" ></div>
    <div class="entry-wrapper">
      <header class="entry-header center">
        
          <h1 class="entry-title pulse">Arduino Programming</h1>
        
      </header>
      <footer class="entry-meta">
        
        <!--
        
        -->
        <span class="author vcard">By <span class="fn">Krish Mehta</span></span>
        
	
        <span class="entry-date date published"><time datetime="2016-05-16T00:00:00+00:00"><i class="fa fa-calendar-o"></i>&nbsp;<strong>Last Updated:</strong> 2016-05-16</time></span>
        
        <!--
        
        -->
        
        
        

        <!--
        <ul class="entry-tags">
          Tags: 
        </ul>
        -->

      </footer> 
      <div class="entry-content">
        <p><a href="https://www.arduino.cc/">Arduino</a> is a great open-source electronics prototyping
platform based on flexible easy-to-use hardware and software. It is basically a simplified
microcontroller, in the sense that it uses a normal microcontroller and
<strong>envelopes its internal functioning</strong> which may impede its functioning,
but it gives us a very handy, easy to use tool. It is also much
simplified as compared to other microcontrollers, because the preset
standards/code in any Arduino eliminates the need to know the internal
details of the microcontroller before using/programming it.</p>

<p>In order to get the best out of this tutorial, please read through the
links which you are asked to refer in the following text(Other links are
for detailed information only). This will furnish you with the
information required to understand the examples mentioned.</p>

<h1>TABLE OF CONTENTS</h1>

<ul id="markdown-toc">
  <li><a href="#why-arduino" id="markdown-toc-why-arduino">WHY ARDUINO?</a></li>
  <li><a href="#installation" id="markdown-toc-installation">INSTALLATION</a></li>
  <li><a href="#first-look" id="markdown-toc-first-look">FIRST LOOK</a></li>
  <li><a href="#programming-the-arduino" id="markdown-toc-programming-the-arduino">PROGRAMMING THE ARDUINO</a></li>
  <li><a href="#the-iconic-led-blink" id="markdown-toc-the-iconic-led-blink">THE ICONIC LED BLINK</a></li>
  <li><a href="#functionalities-in-arduino" id="markdown-toc-functionalities-in-arduino">FUNCTIONALITIES IN ARDUINO</a></li>
  <li><a href="#interfacing-with-peripherals" id="markdown-toc-interfacing-with-peripherals">INTERFACING WITH PERIPHERALS</a></li>
  <li><a href="#what-next" id="markdown-toc-what-next">WHAT NEXT?</a></li>
</ul>
<hr />

<h2 id="why-arduino">WHY ARDUINO?</h2>

<ol>
  <li>Uses ATMEL AVR Microcontrollers, which give excellent performance at cheap cost.</li>
  <li>Has built-in ADC,PWM Pins.</li>
  <li>Open Source!</li>
  <li>For us, it is the most easy microcontroller to start with, which you will see in some time :)</li>
</ol>
<hr />

<h2 id="installation">INSTALLATION</h2>

<h3 id="arduino-comprises-of-2-main-parts">Arduino comprises of 2 main parts:</h3>

<ol>
  <li>
    <p>An <strong>Integrated Development Environment(IDE)</strong> for writing the Code
you want the microcontroller to execute</p>
  </li>
  <li>
    <p><strong>Arduino Boards</strong> that comprise of the enveloped microcontroller
and other peripheral elements(like bootloader code,ICSP) to ensure
proper functioning when used from a PC.</p>
  </li>
</ol>

<p>These 2 parts now primarily explain our method of using Arduino. We will
write the code(also called ‘Sketch’) on the IDE, setup the
hardware connections and upload the code onto the board to implement
it.</p>

<p>Arduino uses its own IDE for programming. The coding is similar to C,
except the deviations due to hardware of the board.</p>

<p>Download the Arduino IDE from:
<a href="https://www.arduino.cc/en/Main/Software">https://www.arduino.cc/en/Main/Software</a>.</p>

<p><strong>Note:</strong> After installing the IDE from the Arduino website shown above,
you must select the board that you are using in Tools&gt;Board:Name.</p>

<p>The USB Port must also be selected appropriately but that will be taken
automatically in most cases.
After this, on connecting, and “Uploading”(Sketch&gt;Upload) any sample
code onto the board you should get a message verifying the amount of
space available on the board etc, and then a message showing successful
upload process.</p>

<p>Done, now the board is verified and ready to use with any custom code.</p>

<p><img src="https://grubdragon.github.io/erciitb/assets/tutorials/arduino/image06.png" alt="image" /></p>

<p><img src="https://grubdragon.github.io/erciitb/assets/tutorials/arduino/image07.png" alt="image" /></p>

<hr />

<h2 id="first-look">FIRST LOOK</h2>

<p>Arduino offers different boards, with varying microcontroller
capability(<a href="https://www.arduino.cc/en/Tutorial/Memory">memory</a> and
clock speed) and number of input/output pins.</p>

<p>Let us examine one of the simple models, Genuino.</p>

<p><img src="https://grubdragon.github.io/erciitb/assets/tutorials/arduino/image08.png" alt="image" /></p>

<p>The parts, as labelled in the figure, are explained here:</p>

<h4 id="digital-pins-a-namedigital-pinsa">Digital pins <a name="digital-pins"></a></h4>

<p>Let us get a decent idea about the variety of pins
available on any Arduino. There are pins which can be used in different
modes. As you can see, pins numbered 2-13 are Digital Input/Output
pins(0,1 are serial in/out). That is, they are capable of giving/taking
Digital output/input. But, the ones which are PWM Enabled (shown by a
~) can also be used as Analog Outputs.</p>

<p>Here, Input/Output is the “Mode” (specified by pinMode()) in which the
pin is used. Use these pins with digitalRead(), digitalWrite(), and
analogWrite() commands according to the mode. analogWrite() works only
on the pins with the PWM symbol.</p>

<p>Note that of the Mode is not explicitly specified using pinMode(), they
are set to Input.</p>

<p>Also, most of the Analog Pins(mentioned at point 5), can be used as
Digital Pins.</p>

<p>Please refer:
<a href="https://www.arduino.cc/en/Tutorial/DigitalPins">https://www.arduino.cc/en/Tutorial/DigitalPins</a>
for details.</p>

<h4 id="on-board-leds-and-switches-a-nameon-boarda">On-board LEDs and Switches <a name="on-board"></a></h4>

<p><strong>Pin 13 LED:</strong> The only actuator built-in to the board. Useful for
debugging, since the LED is in-built and hence reliable in terms of
connections.</p>

<p><strong>Power LED:</strong> Indicates that the board is receiving power. Useful
for debugging.</p>

<p><strong>Reset button:</strong> Resets the ATmega microcontroller.</p>

<h4 id="analog-in-a-nameanalog-ina">Analog in <a name="analog-in"></a></h4>

<p>These pins, numbered A0 to A5 can be used for Analog
inputs/outputs(ADC etc) with analogRead(), analogWrite() and also
digitalWrite() as General Purpose Input/Output pins.</p>

<p>Please refer:
<a href="https://www.arduino.cc/en/Tutorial/AnalogInputPins">https://www.arduino.cc/en/Tutorial/AnalogInputPins</a>
for details.</p>

<h4 id="gnd-and-vin-pins-a-namepower-pinsa">Gnd and Vin pins <a name="power-pins"></a></h4>

<p>Vin is the input voltage to the board when it’s
using an external power source (as opposed to 5 volts from the USB
connection or other regulated power source from the power jack). You can
supply voltage through this pin(from external circuitry), or, if
supplying voltage via the power jack, access it through this pin.</p>

<h4 id="power-connector-a-namepower-connectora">Power connector <a name="power-connector"></a></h4>

<p>This is how you power the board when it’s not
plugged into a USB port for power. Can accept voltages between 7-12V(But
the voltage is regulated to a maximum of 5V)</p>

<p>(You can read the “Power” section of
<a href="https://www.arduino.cc/en/main/arduinoBoardUno">https://www.arduino.cc/en/main/arduinoBoardUno</a>
for in-depth understanding of power pins, and the voltage regulator.)</p>

<h4 id="tx-and-rx-leds-a-nametx-rxa">TX and RX LEDs <a name="tx-rx"></a></h4>

<p>These LEDs indicate communication(send/receive)
between the board and the computer. Expect them to flicker rapidly
during sketch upload as well as during serial communication. Useful for
debugging.</p>

<h4 id="usb-port-a-nameusba">USB port <a name="usb"></a></h4>

<p>Used for powering the board, and most importantly,
uploading your sketches to the board. It is also used for communicating
with the sketch (via Serial. println() etc.).</p>

<p>An understanding of how we will use these pins, and what functions can
they perform for us will be gained through the examples that follow
later.</p>

<p><strong>Details:</strong> If you are interested, you may refer the <strong>Technical Specs,
Power, Input/Output(Special Pins) and Communication</strong> sections of this
page:
<a href="https://www.arduino.cc/en/Main/ArduinoBoardUno">https://www.arduino.cc/en/Main/ArduinoBoardUno</a>.</p>

<p>I would advise you to look into the details given here atleast once.
Read them after you get familiar with these things, if not right now.</p>
<hr />

<h2 id="programming-the-arduino">PROGRAMMING THE ARDUINO</h2>

<p>Please Refer:
<a href="https://www.arduino.cc/en/Tutorial/Sketch">https://www.arduino.cc/en/Tutorial/Sketch</a>
for basic functions and guidlines on Sketching.</p>

<p><img src="https://grubdragon.github.io/erciitb/assets/tutorials/arduino/image01.png" alt="image" /></p>

<p>The program is <strong>written</strong> in the IDE, <strong>Verified</strong>(compiled) and
<strong>Uploaded</strong>(burnt) to the board.(Writing the program into the memory on
the board so that it executes this program after disconnecting from PC)</p>

<p>We shall see the use of the programming language through the examples
that follow later.</p>

<h3 id="common-usage-examples">Common Usage Examples:</h3>

<p>Make Sure you understand the function behind each line of the code
given below</p>

<figure class="highlight"><pre><code class="language-c" data-lang="c"><span class="kt">int</span> <span class="n">pin</span><span class="o">=</span><span class="mi">13</span>
<span class="cm">/* variable declaration, refers to pin Numbered 13 */</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-c" data-lang="c"><span class="n">setup</span><span class="p">()</span>
<span class="cm">/* code in this definition runs only once and acts as a setup as the name suggests */</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-c" data-lang="c"><span class="n">loop</span><span class="p">()</span>
<span class="cm">/* code here runs repeatedly */</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-c" data-lang="c"><span class="n">pinMode</span><span class="p">(</span><span class="n">pin</span><span class="p">,</span><span class="n">INPUT</span><span class="p">)</span>
<span class="cm">/* sets pin numbered “pin” to an INPUT pin */</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-c" data-lang="c"><span class="n">digitalWrite</span><span class="p">(</span><span class="n">pin</span><span class="p">,</span> <span class="n">HIGH</span><span class="p">)</span>
<span class="cm">/* gives High(Vin) voltage output at pin(provided it is set as Output) */</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-c" data-lang="c"><span class="n">digitalRead</span><span class="p">(</span><span class="n">pin</span><span class="p">)</span>
<span class="cm">/*  analogous to digitalWrite, but for INPUT pins */</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-c" data-lang="c"><span class="n">analogWrite</span><span class="p">(</span><span class="n">pin</span><span class="p">,</span><span class="n">Value</span><span class="p">)</span>
<span class="cm">/* a number between 0 and 255(0 to 100% duty cycle)(use on PWM enabled pins \~) */</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-c" data-lang="c"><span class="n">analogRead</span><span class="p">(</span><span class="n">pin</span><span class="p">)</span>
<span class="cm">/* returns Digital Converted input as number between 0 and 1023 */</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-c" data-lang="c"><span class="n">delay</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
<span class="cm">/* very useful in introducing delay, of t milliseconds */</span></code></pre></figure>

<p>For details you can look up the concerned command on the Arduino
website. It has a “References” section that has just these things!</p>
<hr />

<h2 id="the-iconic-led-blink">THE ICONIC LED BLINK</h2>

<h3 id="the-connectionsmentioned-in-setup">The Connections(Mentioned in Setup)</h3>

<p><img src="https://grubdragon.github.io/erciitb/assets/tutorials/arduino/image10.png" alt="image" /></p>

<p>This being our first time, let us look into the setup closely. Please
read the comments of the code that follows to understand it thoroughly.</p>

<ul>
  <li>The code will be written in the IDE and burnt onto the board.</li>
  <li>The board must be connected to an LED at pin numbered 10(digital).</li>
  <li>It is clear that the board gets its power from the PC USB itself.</li>
  <li>After the code is successfully uploaded(this will be shown on the PC
screen, and can be inferred from the stoppage in flickering of the TX/RX
LEDs, showing that the transfer is over) the LED must be turning on/off
after 1 second every time.</li>
</ul>

<p>We can remove the USB if there is external power connection, because
the code is stored in the memory</p>

<h3 id="code">Code</h3>

<figure class="highlight"><pre><code class="language-c" data-lang="c"><span class="kt">int</span> <span class="n">myLED</span><span class="o">=</span><span class="mi">10</span><span class="p">;</span> <span class="c1">//variable declaration
</span>

<span class="c1">// the setup function runs once when you press reset or power the board
</span>
<span class="kt">void</span> <span class="nf">setup</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// initialize the pin connected to LED as an output.
</span>
    <span class="n">pinMode</span><span class="p">(</span><span class="n">myLED</span><span class="p">,</span> <span class="n">OUTPUT</span><span class="p">);</span>
    <span class="c1">//pinMode(Number,Role), gives the pin with that number, the specified
</span>
    <span class="c1">//role i.e. either it will act as an output pin or an input pin!
</span>
<span class="p">}</span>

<span class="c1">// the loop function runs over and over again forever
</span>
<span class="kt">void</span> <span class="nf">loop</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">digitalWrite</span><span class="p">(</span><span class="n">myLED</span><span class="p">,</span> <span class="n">HIGH</span><span class="p">);</span>
    <span class="c1">//“writes” the pin at number “myLED” with HIGH state voltage(mostly 5V)
</span>
    <span class="c1">//corresponding command for input pin is digitalRead
</span>
    <span class="n">delay</span><span class="p">(</span><span class="mi">1000</span><span class="p">);</span> <span class="c1">// wait for a second
</span>
    <span class="n">digitalWrite</span><span class="p">(</span><span class="n">myLED</span><span class="p">,</span> <span class="n">LOW</span><span class="p">);</span> <span class="c1">// turn the LED off by making the voltage LOW
</span>
    <span class="n">delay</span><span class="p">(</span><span class="mi">1000</span><span class="p">);</span> <span class="c1">// wait for a second
</span>
<span class="p">}</span></code></pre></figure>

<h3 id="hardware">Hardware</h3>

<p>The LED is connected to Pin no.10, which is a Digital Pin, hence can
have a high or a low voltage output/input. That’s all.</p>

<p>This is basically, <strong>giving the desired output at the desired pin</strong>.
Using this, you can do the same for analog pins(using
analogWrite/analogRead), and this will be used in everything you will
make further.</p>

<p><strong>Note:</strong> It is a good practice to mention the hardware connections as
comments in the Sketch. Due to this, the implementation of actual
circuit connections becomes easy.</p>
<hr />

<h2 id="functionalities-in-arduino">FUNCTIONALITIES IN ARDUINO</h2>

<h3 id="pulse-width-modulation-a-namepwm">Pulse Width Modulation <a name="pwm"></a></h3>

<p>Pulse Width Modulation is the technique of producing Analog-type results
by Digital means, and essentially relies on very fast toggling of the
digital output between high and low at appropriate time intervals.</p>

<p>Refer to the theory of PWM here:
<a href="https://www.arduino.cc/en/Tutorial/PWM">https://www.arduino.cc/en/Tutorial/PWM</a></p>

<p><strong>I strongly advise you to see the above</strong> <strong>link</strong> to get a feel of
what PWM is before proceeding.</p>

<p>The PWM Enabled pins on Arduino(3,5,6,9,10,11) can be used as analog
outputs with a resolution of 0-255. This can be interfaced with ADC.</p>

<p>Using this functionality, Arduino essentially eliminates the involvement
of duty cycle calculation and digital pin manipulation, because of the
inbuilt functions analogWrite. This is the power of Arduino! Functions
are already inbuilt for you. In other microcontrollers, you need to
literally write such functions.</p>

<p><strong>Note:</strong> The PWM Enabled pins do NOT give Analog output, but they give
the Pulse Width Modulated Rectangular waves as outputs.(Read Link)</p>

<h4 id="code-1">Code</h4>

<figure class="highlight"><pre><code class="language-c" data-lang="c"><span class="kt">int</span> <span class="n">ledPin</span> <span class="o">=</span> <span class="mi">9</span><span class="p">;</span> <span class="c1">// LED connected to digital pin 9
</span>
<span class="kt">void</span> <span class="nf">setup</span><span class="p">()</span> <span class="p">{</span>
<span class="c1">// nothing happens in setup
</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="nf">loop</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// fade in from min to max in increments of 5 points:
</span>
    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">fadeValue</span> <span class="o">=</span> <span class="mi">0</span> <span class="p">;</span> <span class="n">fadeValue</span> <span class="o">&lt;=</span> <span class="mi">255</span><span class="p">;</span> <span class="n">fadeValue</span> <span class="o">+=</span> <span class="mi">5</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// sets the value (range from 0 to 255):
</span>
    <span class="n">analogWrite</span><span class="p">(</span><span class="n">ledPin</span><span class="p">,</span> <span class="n">fadeValue</span><span class="p">);</span>

    <span class="c1">// wait for 30 milliseconds to see the dimming effect
</span>
    <span class="n">delay</span><span class="p">(</span><span class="mi">30</span><span class="p">);</span>

    <span class="p">}</span>
<span class="p">}</span></code></pre></figure>

<p><strong>Note:</strong> Delays are very important while coding microcontrollers. Their
typical computing speeds lie in ranges of 1MHz, and hence execution of
any average statement in the code would take approximately 1μs.</p>

<p>If the above code would be executed without the delay(30) statement, out
human eye wouldn’t be able to perceive the changes so fast and would see
a constant average brightness.</p>

<p>Also, in many Analog operations, it is advisable to wait for a short
period of time in order to avoid noise in the system.</p>

<p><strong>Hardware:</strong> An LED is connected between pin numbered 9 and ground.</p>

<h3 id="analogue-digital-conversion-a-nameadca">Analogue-Digital Conversion <a name="adc"></a></h3>

<p>Arduino highly simplifies Analog-to-Digital Conversion. It is used as
follows:</p>

<p>Suppose we have Analog Input at a certain pin, say A0.</p>

<p>Executing analogRead(A0), would return a number from 0-1023 (default,
10-bit resolution), representing the Digital Equivalent of the given
Analog Input, with 5V as reference(1023).</p>

<p>Can you guess where this function is required?</p>

<p>Well, as an example, it is required to capture sensor values which can
have any value between 0 to 5V and we want the exact value. Try thinking
of more such examples.</p>

<p>Once again Arduino simplifies matters for you, because the actual
theoretical procedure of ADC is different altogether. Instead, that
comes as an inbuilt function and it directly returns the corresponding
value with the given resolution and reference voltage.</p>

<p><strong>Note:</strong> Though not often required but we can change the reference
value, by supplying the reference voltage at the AREF pin, and using the
analogReference() command.</p>

<p>In AVR microcontrollers, executing ADC requires something called
interrupts. As you might have seen, all this is not explicitly required
in Arduino. Again displaying the ease of using Arduino.</p>

<p><strong>Note:</strong> Uno is also provided with special interrupt pins, mentioned in
the link given in “Details” section.(Do not worry about “interrupts”
right now, if you don’t know what is is)</p>
<hr />

<h2 id="interfacing-with-peripherals">INTERFACING WITH PERIPHERALS</h2>

<p>We often come across an interface between Arduino and various other
useful elements. We will understand how to interface an Arduino with
LCDs and the Computer(or in general any other unit, by Serial
Communication), using <strong>Standard Libraries</strong>, interfacing with different
sensors etc.</p>

<h3 id="lcd-display-a-namelcda">LCD Display <a name="lcd"></a></h3>

<p>In order to teach the Arduino how to communicate with an LCD screen(send
the data we want for display) we use a library: “LiquidCrystal”. It is
provided by default in most cases. This library contains functions to
interface Arduino with an LCD, like declaring an LCD Screen of given
size, print given characters etc.</p>

<p>Please refer all the functions given on the right hand side of this
page:
<a href="https://www.arduino.cc/en/Reference/LiquidCrystal">https://www.arduino.cc/en/Reference/LiquidCrystal</a>.</p>

<p>After understanding the functions, you can move on to
examples (File&gt;Examples) and read them from the link given above or in
your IDE itself.</p>

<p>The important part in interfacing with LCDs is the <strong>hardware
connection</strong>:</p>

<p><img src="https://grubdragon.github.io/erciitb/assets/tutorials/arduino/image11.png" alt="image" /></p>

<p>The marked rectangle contains the names of the 16 pins that are usually
available on an LCD. From them, we connect 8 pins whose numbers are
marked in bold in the next column. They are connected to corresponding
pins in the Arduino as shown.</p>

<p>Data 4-5-6-7 are data pins which will carry information on What to
print. 5V and GND powers the LCD. Enable and R/S pins are also required
for enabling and operation selection.</p>

<p><strong>Note:</strong> You can also connect Contrast pin, to a potentiometer output
between 5V and GND, so as to achieve variation in contrast.</p>

<h3 id="serial-communication-a-nameseriala">Serial Communication <a name="serial"></a></h3>

<p>This is a way of microcontrollers to communicate to other
microcontrollers or computers. In Arduino, serial communication with the
computer can be achieved easily through the USB channel used for
programming it.</p>

<p>The library used for this purpose is “SoftwareSerial”, and is there by
default.</p>

<p>Look up the functions of this library here:
<a href="https://www.arduino.cc/en/Reference/SoftwareSerial">https://www.arduino.cc/en/Reference/SoftwareSerial</a>.</p>

<p>Its examples will also be useful in understanding serial communication.</p>

<p><strong>Note:</strong> We do not use the pins 0 and 1 for serial communication with
computer because that occurs through the USB cable itself.</p>

<h3 id="ultrasonic-sensors-a-nameus-sensora">Ultrasonic Sensors <a name="us-sensor"></a></h3>

<p>This sensor measures the time duration between sending an ultrasonic
sound pulse and receiving back its reflection from the object in front
of it. From this time difference, it estimates the distance to the
object in front!</p>

<p>In order to use this without processing the data in the form in which it
comes from the sensor, we use a library developed for the purpose, named
“NewPing”.</p>

<p><strong>Note:</strong> We can use it without the library(but with certain information
to convert the time duration of received HIGH pulse to distance, using
default library “ping”), by generating our own pulse and then reading
the reply on our own. But that is tedious.</p>

<p>Refer:
<a href="http://playground.arduino.cc/Code/NewPing">http://playground.arduino.cc/Code/NewPing</a>
for the constructors,methods of this library.</p>

<h4 id="adding-external-libraries-accessing-examples">Adding external libraries, Accessing examples</h4>

<p>Download the library from
<a href="http://playground.arduino.cc/Code/NewPing">http://playground.arduino.cc/Code/NewPing</a>.
Unzip it. Place the folder NewPing in this location:
Arduino&gt;Libraries. Restart the Arduino IDE. You will now find this
library under Contributed Libraries section in: Sketch&gt;Include
Library.</p>

<p>You can access examples of this library(and all others) from
File&gt;Examples&gt;NewPing.</p>
<hr />

<h2 id="what-next">WHAT NEXT?</h2>

<h3 id="keep-tinkering">Keep Tinkering!</h3>

<p>Keep thinking of applications of the mentioned features.</p>

<ul>
  <li>As a basic example, this could enable you to take readings of some
physical quantity from sensors that return analog values, execute
ADC(inbuilt) and give Pulse Width Modulated output to motors. So, you
can use Arduino as the motor driver, and make the <strong>Line Follower Bot</strong>!</li>
  <li>Arduino can be used in many small projects when coupled with a
<strong>General Purpose Input/Output board</strong>, typically having LEDs, Switches,
Potentiometer, Buzzer, LDR, TSOP IR Receiver, Temperature Sensor(LM35D)
etc elements.</li>
</ul>

<h3 id="the-open-source-advantage">The Open-Source Advantage</h3>

<p>You can follow the official <a href="https://blog.arduino.cc/">Arduino Blog</a>
for ideas, or explore the <a href="https://www.arduino.cc/">Arduino website</a>
for in-depth understanding of Arduino!</p>

<p>Thank you.</p>

        
      </div><!-- /.entry-content -->
    </div><!-- /.entry-wrapper -->
    <nav class="pagination" role="navigation">
      
        <a href="https://grubdragon.github.io/erciitb/tutorials/avr/" class="btn" title="AVR Programming">Previous</a>
      
      
        <a href="https://grubdragon.github.io/erciitb/tutorials/Aero" class="btn" title="Aerodynamics">Next</a>
      
    </nav><!-- /.pagination -->
  </article>
</div><!-- /#main -->

<div class="footer-wrapper">
  <footer role="contentinfo" class="entry-wrapper">
    

<span>&copy; 2017 Electronics and Robotics Club, IIT Bombay.<!-- Powered by <a href="http://jekyllrb.com" rel="nofollow">Jekyll</a> using the <a href="https://mademistakes.com/work/so-simple-jekyll-theme/" rel="nofollow">So Simple Theme</a>.--></span>
<div class="social-icons">
	
	<a href="https://facebook.com/erciitb" title="Electronics and Robotics Club, IIT Bombay on Facebook" target="_blank"><i class="fa fa-facebook-square fa-2x"></i></a>
	
	
	
	
	
	<a href="https://github.com/erciitb" title="Electronics and Robotics Club, IIT Bombay on Github" target="_blank"><i class="fa fa-github-square fa-2x"></i></a>
	
  
	
  <a href="https://grubdragon.github.io/erciitb/feed.xml" title="Atom/RSS feed"><i class="fa fa-rss-square fa-2x"></i></a>
</div><!-- /.social-icons -->

  </footer>
</div><!-- /.footer-wrapper -->

<script type="text/javascript">
  var BASE_URL = 'https://grubdragon.github.io/erciitb';
</script>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="https://grubdragon.github.io/erciitb/assets/js/vendor/jquery-1.9.1.min.js"><\/script>')</script>
<script src="https://grubdragon.github.io/erciitb/assets/js/scripts.min.js"></script>




</body>
</html>
